<div class="table-controls">
  <input
    type="text"
    placeholder="Search contacts..."
    [(ngModel)]="searchTerm"
    (input)="onSearchChange()"
  />
</div>

<table>
  <thead>
    <tr>
      <th title="Sort by name" (click)="sortBy('name')">Name</th>
      <th title="Sort by date of birth" (click)="sortBy('dateOfBirth')">Date of Birth</th>
      <th title="Sort by marital status" (click)="sortBy('isMarried')">Married</th>
      <th title="Sort by phone" (click)="sortBy('phone')">Phone</th>
      <th title="Sort by salary" (click)="sortBy('salary')">Salary</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    @for (contact of displayedContacts; track $index) {
      <tr>
        <td>{{ contact.name }}</td>
        <td>{{ contact.dateOfBirth | date }}</td>
        <td>{{ contact.isMarried ? 'Yes' : 'No' }}</td>
        <td>{{ contact.phone }}</td>
        <td>{{ contact.salary | currency }}</td>
        <td>
          <button (click)="deleteContact(contact.id)">Delete</button>
        </td>
      </tr>
    }
  </tbody>
</table>

@if (!contacts || contacts.length === 0) {
  <div class="empty-table">
      No contacts available
  </div>
}